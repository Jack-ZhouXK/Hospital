{"ast":null,"code":"import _Message2 from \"element-ui/lib/theme-chalk/message.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Message from \"element-ui/lib/message\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport login from './components/login.vue';\nimport home from './components/home.vue';\nimport Welcome from '@/components/Welcome.vue';\nimport users from '@/components/user/users.vue';\nVue.use(VueRouter);\nvar router = new VueRouter({\n  routes: [//  用户访问/自动重定向到/login\n  {\n    path: '/',\n    redirect: '/login'\n  }, {\n    path: '/login',\n    component: login\n  }, {\n    path: '/home',\n    redirect: '/welcome',\n    component: home,\n    children: [{\n      path: '/welcome',\n      component: Welcome\n    }, {\n      path: '/users',\n      component: users\n    }]\n  }]\n}); //挂载路由导航\n\nrouter.beforeEach(function (to, from, next) {\n  //to:代表将要访问的路径\n  //from:代表从哪里跳转路径而来\n  //next() 放行  next(\"/login\") 强制跳转\n  if (to.path == '/login') return next(); //获取页面token\n\n  var tokenStr = window.sessionStorage.getItem('token');\n\n  if (!tokenStr) {\n    _Message.error('您还未登录,请您先登录'); // 等于空直接返回登录页面\n\n\n    return next('/login');\n  } //不等于空直接放行\n\n\n  next();\n});\nexport default router;","map":{"version":3,"sources":["C:/Users/ZXK/Desktop/hospital/src/router.js"],"names":["Vue","VueRouter","login","home","Welcome","users","use","router","routes","path","redirect","component","children","beforeEach","to","from","next","tokenStr","window","sessionStorage","getItem","error"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AAEA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AAEAL,GAAG,CAACM,GAAJ,CAAQL,SAAR;AAEA,IAAMM,MAAM,GAAG,IAAIN,SAAJ,CAAc;AAC3BO,EAAAA,MAAM,EAAE,CACN;AACA;AAAEC,IAAAA,IAAI,EAAE,GAAR;AAAaC,IAAAA,QAAQ,EAAE;AAAvB,GAFM,EAGN;AAAED,IAAAA,IAAI,EAAE,QAAR;AAAkBE,IAAAA,SAAS,EAAET;AAA7B,GAHM,EAIN;AACEO,IAAAA,IAAI,EAAE,OADR;AAEEC,IAAAA,QAAQ,EAAE,UAFZ;AAGEC,IAAAA,SAAS,EAAER,IAHb;AAIES,IAAAA,QAAQ,EAAE,CACR;AAAEH,MAAAA,IAAI,EAAE,UAAR;AAAoBE,MAAAA,SAAS,EAAEP;AAA/B,KADQ,EAER;AAAEK,MAAAA,IAAI,EAAE,QAAR;AAAkBE,MAAAA,SAAS,EAAEN;AAA7B,KAFQ;AAJZ,GAJM;AADmB,CAAd,CAAf,C,CAiBA;;AACAE,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACA;AACA;AACA,MAAIF,EAAE,CAACL,IAAH,IAAW,QAAf,EAAyB,OAAOO,IAAI,EAAX,CAJW,CAKpC;;AACA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAjB;;AACA,MAAI,CAACH,QAAL,EAAe;AACb,aAAQI,KAAR,CAAc,aAAd,EADa,CAEb;;;AACA,WAAOL,IAAI,CAAC,QAAD,CAAX;AACD,GAXmC,CAYpC;;;AACAA,EAAAA,IAAI;AACL,CAdD;AAgBA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport login from './components/login.vue'\nimport home from './components/home.vue'\nimport { Message } from 'element-ui'\nimport Welcome from '@/components/Welcome.vue'\nimport users from '@/components/user/users.vue'\n\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n  routes: [\n    //  用户访问/自动重定向到/login\n    { path: '/', redirect: '/login' },\n    { path: '/login', component: login },\n    {\n      path: '/home',\n      redirect: '/welcome',\n      component: home,\n      children: [\n        { path: '/welcome', component: Welcome },\n        { path: '/users', component: users }\n      ],\n    },\n  ],\n})\n\n//挂载路由导航\nrouter.beforeEach((to, from, next) => {\n  //to:代表将要访问的路径\n  //from:代表从哪里跳转路径而来\n  //next() 放行  next(\"/login\") 强制跳转\n  if (to.path == '/login') return next()\n  //获取页面token\n  const tokenStr = window.sessionStorage.getItem('token')\n  if (!tokenStr) {\n    Message.error('您还未登录,请您先登录')\n    // 等于空直接返回登录页面\n    return next('/login')\n  }\n  //不等于空直接放行\n  next()\n})\n\nexport default router\n"]},"metadata":{},"sourceType":"module"}