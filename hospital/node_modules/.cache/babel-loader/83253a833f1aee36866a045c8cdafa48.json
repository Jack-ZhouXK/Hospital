{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ZXK/Desktop/hospital/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      //导航栏数据\n      menuList: [],\n      //图标数组\n      iconsObj: {\n        101: 'el-icon-user',\n        102: 'el-icon-s-tools',\n        103: 'el-icon-star-on',\n        104: 'el-icon-zoom-in',\n        105: 'el-icon-eleme'\n      },\n      //折叠状态\n      isCollapse: false,\n      //折叠动画\n      iscollapse_transition: false,\n      //二级菜单选中高亮\n      activePath: ''\n    };\n  },\n  //创建就执行的生命周期函数\n  created: function created() {\n    this.getMenuList();\n    this.activePath = window.sessionStorage.getItem('activePath');\n  },\n  methods: {\n    //退出功能\n    loginOut: function loginOut() {\n      //清空sessionStorage\n      window.sessionStorage.clear();\n\n      if (sessionStorage.getItem('token') == null) {\n        this.$message.info('退出成功,期待下次光临!'); //重定向到登录页面\n\n        this.$router.push('/login');\n      }\n    },\n    //获取所有的菜单\n    getMenuList: function getMenuList() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _yield$_this$$http$ge, res;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.$http.get('user/menus');\n\n              case 2:\n                _yield$_this$$http$ge = _context.sent;\n                res = _yield$_this$$http$ge.data;\n\n                if (!(res.status != 200)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _this.$message.error(res.message));\n\n              case 6:\n                _this.menuList = res.data;\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    //菜单的折叠与展开\n    toggleCollapse: function toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    },\n    //保存链接激活状态\n    saveNavState: function saveNavState(activePath) {\n      window.sessionStorage.setItem('activePath', activePath);\n      this.activePath = activePath;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACAA,MADA,kBACA;AACA;AACA;AACAC,kBAFA;AAGA;AACAC;AACA,2BADA;AAEA,8BAFA;AAGA,8BAHA;AAIA,8BAJA;AAKA;AALA,OAJA;AAWA;AACAC,uBAZA;AAaA;AACAC,kCAdA;AAeA;AACAC;AAhBA;AAkBA,GApBA;AAqBA;AACAC,SAtBA,qBAsBA;AACA;AACA;AACA,GAzBA;AA0BAC;AACA;AACAC,YAFA,sBAEA;AACA;AACAC;;AACA;AACA,2CADA,CAEA;;AACA;AACA;AACA,KAVA;AAWA;AACAC,eAZA,yBAYA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,6BADA;;AAAA;AAAA;AACAC,mBADA,yBACAX,IADA;;AAAA,sBAEAW,iBAFA;AAAA;AAAA;AAAA;;AAAA,iDAGA,iCAHA;;AAAA;AAKA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAlBA;AAmBA;AACAC,kBApBA,4BAoBA;AACA;AACA,KAtBA;AAuBA;AACAC,gBAxBA,wBAwBAR,UAxBA,EAwBA;AACAI;AACA;AACA;AA3BA;AA1BA","names":["data","menuList","iconsObj","isCollapse","iscollapse_transition","activePath","created","methods","loginOut","window","getMenuList","res","toggleCollapse","saveNavState"],"sourceRoot":"src/components","sources":["home.vue"],"sourcesContent":["<template>\n  <el-container class=\"home-container\">\n    <!-- 页面头部 -->\n    <el-header>\n      <div>\n        <img src=\"../assets/logo.png\" alt=\"\" />\n        <span>电商后台管理系统</span>\n      </div>\n      <el-button type=\"info\" @click=\"loginOut\">退出</el-button>\n    </el-header>\n    <el-container>\n      <!-- 页面侧边框 -->\n      <el-aside :width=\"isCollapse ? '64px' : '200px'\">\n        <!-- 折叠展开按钮 -->\n        <div class=\"toggle-button\" @click=\"toggleCollapse\">\n          <i class=\"el-icon-s-unfold\" style=\"font-size: 20px\"></i>\n        </div>\n        <!-- 侧边栏菜单区域 -->\n        <el-menu\n          background-color=\"#373d41\"\n          text-color=\"#fff\"\n          active-text-color=\"#409EFF\"\n          unique-opened\n          :collapse=\"isCollapse\"\n          :collapse-transition=\"iscollapse_transition\"\n          router\n          :default-active=\"activePath\"\n        >\n          <!-- 一级菜单 -->\n          <el-submenu\n            :index=\"item.id + ''\"\n            v-for=\"item in menuList\"\n            :key=\"item.id\"\n          >\n            <!-- 一级菜单模板区域 -->\n            <template slot=\"title\">\n              <!-- 图标 -->\n              <i :class=\"iconsObj[item.id]\"></i>\n              <!-- 文本 -->\n              <span>{{ item.authName }}</span>\n            </template>\n            <!-- 二级菜单 -->\n            <el-menu-item\n              :index=\"'/' + subItem.path\"\n              v-for=\"subItem in item.children\"\n              :key=\"subItem.id\"\n              @click=\"saveNavState('/' + subItem.path)\"\n            >\n              <template slot=\"title\">\n                <!-- 图标 -->\n                <i class=\"el-icon-menu\"></i>\n                <!-- 文本 -->\n                <span>{{ subItem.authName }}</span>\n              </template>\n            </el-menu-item>\n          </el-submenu>\n        </el-menu>\n      </el-aside>\n      <!-- 页面主体 -->\n      <el-main>\n        <!--路由站位符-->\n        <router-view></router-view>\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n\n<script>\nexport default {\n  data() {\n    return {\n      //导航栏数据\n      menuList: [],\n      //图标数组\n      iconsObj: {\n        101: 'el-icon-user',\n        102: 'el-icon-s-tools',\n        103: 'el-icon-star-on',\n        104: 'el-icon-zoom-in',\n        105: 'el-icon-eleme',\n      },\n      //折叠状态\n      isCollapse: false,\n      //折叠动画\n      iscollapse_transition: false,\n      //二级菜单选中高亮\n      activePath: '',\n    }\n  },\n  //创建就执行的生命周期函数\n  created() {\n    this.getMenuList()\n    this.activePath = window.sessionStorage.getItem('activePath')\n  },\n  methods: {\n    //退出功能\n    loginOut() {\n      //清空sessionStorage\n      window.sessionStorage.clear()\n      if (sessionStorage.getItem('token') == null) {\n        this.$message.info('退出成功,期待下次光临!')\n        //重定向到登录页面\n        this.$router.push('/login')\n      }\n    },\n    //获取所有的菜单\n    async getMenuList() {\n      const { data: res } = await this.$http.get('user/menus')\n      if (res.status != 200) {\n        return this.$message.error(res.message)\n      }\n      this.menuList = res.data\n    },\n    //菜单的折叠与展开\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse\n    },\n    //保存链接激活状态\n    saveNavState(activePath) {\n      window.sessionStorage.setItem('activePath', activePath)\n      this.activePath = activePath;\n    },\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.home-container {\n  height: 100%;\n}\n.el-header {\n  background-color: #373d41;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 0;\n  color: #fff;\n  font-size: 20px;\n  > div {\n    display: flex;\n    align-items: center;\n    span {\n      margin-left: 15px;\n    }\n    img {\n      width: 60px;\n    }\n  }\n}\n.el-aside {\n  background-color: #373d41;\n  .el-menu {\n    border: none;\n  }\n}\n.el-main {\n  background-color: #eaedf1;\n}\n.toggle-button {\n  background-color: #4a5064;\n  font-size: 10px;\n  line-height: 24px;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  letter-spacing: 0.2em;\n  cursor: pointer;\n}\n</style>"]},"metadata":{},"sourceType":"module"}